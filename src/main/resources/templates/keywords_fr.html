<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{wide_fr}" lang="fr">

<head>
	<link
		href="https://cdn.datatables.net/v/dt/jq-3.7.0/jszip-3.10.1/dt-2.3.2/b-3.2.0/b-html5-3.2.0/cr-2.0.4/fh-4.0.1/r-3.0.3/datatables.min.css"
		rel="stylesheet" type="text/css" />
	<link rel="stylesheet" type="text/css" href="/css/keywords_styles.css" />
</head>

<th:block layout:fragment="content">
	<main class="container">
		<div class="keywords-header">
			<h1 id="wb-cont">Gestion des mots-clés</h1>
			<p class="lead">Gérer les mots-clés de filtrage de contenu, y compris les mots vulgaires, les menaces, les
				mots autorisés et les mots-clés d'erreur.</p>
		</div>

		<!-- Quick Filters -->
		<div class="filter-section-compact">
			<div class="filter-title">Filtrer par :</div>
			<div class="filter-controls">
				<div class="filter-item">
					<label for="filterType">Type</label>
					<select id="filterType" class="form-control">
						<option value="">Tous les types</option>
						<option value="profanity">Vulgaire</option>
						<option value="threat">Menace</option>
						<option value="allowed">Autorisé</option>
						<option value="error">Erreur</option>
					</select>
				</div>
				<div class="filter-item">
					<label for="filterLanguage">Langue</label>
					<select id="filterLanguage" class="form-control">
						<option value="">Toutes les langues</option>
						<option value="en">Anglais</option>
						<option value="fr">Français</option>
						<option value="both">Les deux</option>
					</select>
				</div>
				<div class="filter-item">
					<label for="filterStatus">Statut</label>
					<select id="filterStatus" class="form-control">
						<option value="">Tous les statuts</option>
						<option value="active">Actif</option>
						<option value="inactive">Inactif</option>
					</select>
				</div>
				<div class="filter-item">
					<label for="filterSearch">Recherche</label>
					<input type="text" id="filterSearch" class="form-control" placeholder="Filtrer par mot-clé">
				</div>
				<div class="filter-item">
					<button id="clearFilters" class="btn-clear">Effacer les filtres</button>
				</div>
			</div>
		</div>

		<!-- Action buttons -->
		<div class="action-buttons">
			<button id="addNewBtn" class="btn btn-primary">
				<span class="glyphicon glyphicon-plus"></span> Ajouter un nouveau mot-clé
			</button>
			<button id="exportBtn" class="btn btn-success">
				<span class="glyphicon glyphicon-download-alt"></span> Exporter en CSV
			</button>
		</div>

		<!-- Add/Edit modal -->
		<div id="editModal" class="modal-overlay">
			<div class="modal-content">
				<div class="modal-header">
					<h2 id="modalTitle">Ajouter un nouveau mot-clé</h2>
				</div>
				<form id="editForm">
					<div class="modal-body">
						<input type="hidden" id="editId" value="">

						<div id="errorMessage" class="alert alert-danger" style="display: none;"></div>
						<div id="successMessage" class="alert alert-success" style="display: none;"></div>

						<div class="form-group">
							<label for="editWord">Mot <span style="color: red;">*</span></label>
							<input type="text" class="form-control" id="editWord" placeholder="Entrez le mot-clé"
								required autofocus>
							<span class="help-block">Le mot sera automatiquement converti en minuscules.</span>
						</div>

						<div class="row">
							<div class="col-sm-6">
								<div class="form-group">
									<label for="editLanguage">Langue <span style="color: red;">*</span></label>
									<select class="form-control" id="editLanguage" required>
										<option value="en">Anglais</option>
										<option value="fr">Français</option>
										<option value="both">Les deux langues</option>
									</select>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="form-group">
									<label for="editType">Type <span style="color: red;">*</span></label>
									<select class="form-control" id="editType" required>
										<option value="profanity">Vulgaire</option>
										<option value="threat">Menace</option>
										<option value="allowed">Autorisé</option>
										<option value="error">Erreur</option>
									</select>
								</div>
							</div>
						</div>

						<div class="checkbox">
							<input type="checkbox" id="editActive" checked>
							<label for="editActive">
								<strong>Actif</strong>
								<span class="help-block">Les mots-clés inactifs ne seront pas utilisés pour le
									filtrage</span>
							</label>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" id="cancelBtn" class="btn btn-default">Annuler</button>
						<button type="submit" class="btn btn-primary">Enregistrer le mot-clé</button>
					</div>
				</form>
			</div>
		</div>

		<!-- Keywords table with scrollable body -->
		<div class="keywords-table-wrapper">
			<div class="table-scroll-container">
				<table id="keywordsTable" class="wb-tables dataTable">
					<thead>
						<tr>
							<th>Mot</th>
							<th>Langue</th>
							<th>Type</th>
							<th>Statut</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:remove="tag" th:utext="${data}"></tr>
					</tbody>
				</table>
			</div>
		</div>
	</main>
</th:block>

<th:block layout:fragment="script">
	<script
		src="https://cdn.datatables.net/v/dt/jq-3.7.0/jszip-3.10.1/dt-2.3.2/b-3.2.0/b-html5-3.2.0/cr-2.0.4/fh-4.0.1/r-3.0.3/datatables.min.js"></script>
	<script src="/js/keywords_fr.js"></script>
</th:block>

</html>